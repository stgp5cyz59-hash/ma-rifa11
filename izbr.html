<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MA'RIFA - –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700;800&family=Cormorant+Garamond:wght@400;500;600;700;800&family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Lateef:wght@400;500;600;700&family=Noto+Naskh+Arabic:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      /* ===== –°–¢–ò–õ–ò –°–¢–†–ê–ù–ò–¶–´ –ò–ó–ë–†–ê–ù–ù–û–ì–û ===== */
      .fav-hero {
        text-align: center;
        padding: 100px 20px 60px;
        position: relative;
        z-index: 10;
      }

      .fav-title-arabic {
        font-family: "Amiri", serif;
        font-size: 4rem;
        color: #2d1b4e;
        margin-bottom: 20px;
        text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.1);
        line-height: 1.2;
      }

      .fav-title-latin {
        font-family: "Cormorant Garamond", serif;
        font-size: 2.2rem;
        color: #8a4a5f;
        letter-spacing: 3px;
        margin-bottom: 15px;
        font-weight: 600;
      }

      .fav-subtitle {
        font-family: "Inter", sans-serif;
        font-size: 1.2rem;
        color: #666;
        max-width: 600px;
        margin: 0 auto;
        line-height: 1.6;
      }

      .fav-container {
        max-width: 1200px;
        margin: 0 auto 80px;
        padding: 0 20px;
        position: relative;
        z-index: 10;
      }

      /* –í–∫–ª–∞–¥–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π */
      .fav-tabs {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-bottom: 40px;
        flex-wrap: wrap;
      }

      .fav-tab {
        background: rgba(255, 255, 255, 0.9);
        border: 2px solid rgba(138, 74, 95, 0.3);
        border-radius: 50px;
        padding: 12px 25px;
        font-family: "Inter", sans-serif;
        font-size: 1rem;
        font-weight: 600;
        color: #8a4a5f;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 10px;
        transition: all 0.3s ease;
      }

      .fav-tab:hover {
        background: rgba(138, 74, 95, 0.1);
        transform: translateY(-3px);
      }

      .fav-tab.active {
        background: linear-gradient(135deg, #8a4a5f, #6d394a);
        color: white;
        border-color: #8a4a5f;
        box-shadow: 0 10px 25px rgba(138, 74, 95, 0.2);
      }

      .fav-tab i {
        font-size: 1.1rem;
      }

      .fav-tab .count {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.9rem;
      }

      /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ */
      .fav-content {
        background: rgba(255, 255, 255, 0.97);
        border-radius: 25px;
        padding: 40px;
        box-shadow: 0 20px 50px rgba(138, 74, 95, 0.15);
        border: 1px solid rgba(138, 74, 95, 0.2);
        backdrop-filter: blur(15px);
        min-height: 500px;
      }

      .fav-section {
        display: none;
      }

      .fav-section.active {
        display: block;
        animation: fadeIn 0.5s ease;
      }

      .empty-message {
        text-align: center;
        padding: 80px 20px;
        color: #999;
      }

      .empty-message i {
        font-size: 4rem;
        margin-bottom: 20px;
        color: #ddd;
      }

      .empty-message h3 {
        font-family: "Cormorant Garamond", serif;
        font-size: 2rem;
        color: #8a4a5f;
        margin-bottom: 15px;
      }

      .empty-message p {
        font-family: "Inter", sans-serif;
        font-size: 1.1rem;
        color: #666;
        margin-bottom: 30px;
        max-width: 500px;
        margin-left: auto;
        margin-right: auto;
        line-height: 1.6;
      }

      .empty-message .btn {
        display: inline-block;
        padding: 12px 30px;
        background: linear-gradient(135deg, #8a4a5f, #a86c82);
        color: white;
        border-radius: 50px;
        font-family: "Inter", sans-serif;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
      }

      .empty-message .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(138, 74, 95, 0.2);
      }

      /* –ö–∞—Ä—Ç–æ—á–∫–∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ */
      .fav-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(500px, 1fr));
        gap: 25px;
      }

      @media (max-width: 768px) {
        .fav-grid {
          grid-template-columns: 1fr;
        }
      }

      .fav-card {
        background: white;
        border: 1px solid rgba(138, 74, 95, 0.1);
        border-radius: 20px;
        padding: 25px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
      }

      .fav-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(138, 74, 95, 0.15);
        border-color: #8a4a5f;
      }

      .fav-card-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 20px;
      }

      .fav-card-type {
        display: inline-block;
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 500;
        margin-bottom: 10px;
      }

      .fav-card-type.quran {
        background: rgba(138, 74, 95, 0.1);
        color: #8a4a5f;
      }

      .fav-card-type.dua {
        background: rgba(212, 165, 116, 0.1);
        color: #d4a574;
      }

      .fav-card-type.azkar {
        background: rgba(74, 44, 122, 0.1);
        color: #4a2c7a;
      }

      .fav-card-type.hadith {
        background: rgba(76, 175, 80, 0.1);
        color: #4caf50;
      }

      .fav-card-type.sunnah {
        background: rgba(255, 193, 7, 0.1);
        color: #ffc107;
      }

      .fav-card-title {
        font-family: "Cormorant Garamond", serif;
        font-size: 1.6rem;
        color: #6d394a;
        font-weight: 600;
        line-height: 1.3;
        margin-bottom: 10px;
      }

      .fav-card-arabic {
        font-family: "Amiri", serif;
        font-size: 1.8rem;
        color: #2d1b4e;
        line-height: 1.6;
        text-align: right;
        direction: rtl;
        margin: 20px 0;
        font-weight: 500;
      }

      .fav-card-translation {
        font-family: "Inter", sans-serif;
        font-size: 1.05rem;
        color: #4a4048;
        line-height: 1.6;
        margin: 15px 0;
        font-weight: 500;
        padding: 15px;
        background: rgba(138, 74, 95, 0.03);
        border-radius: 10px;
      }

      .fav-card-description {
        font-family: "Inter", sans-serif;
        color: #666;
        font-size: 0.95rem;
        line-height: 1.5;
        margin: 15px 0;
      }

      .fav-card-actions {
        display: flex;
        gap: 10px;
        margin-top: 20px;
        padding-top: 20px;
        border-top: 1px solid rgba(138, 74, 95, 0.1);
      }

      .fav-card-btn {
        padding: 8px 16px;
        background: rgba(255, 255, 255, 0.9);
        border: 1px solid rgba(138, 74, 95, 0.2);
        border-radius: 8px;
        font-family: "Inter", sans-serif;
        font-size: 0.9rem;
        color: #8a4a5f;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s ease;
        flex: 1;
        justify-content: center;
      }

      .fav-card-btn:hover {
        background: rgba(138, 74, 95, 0.1);
      }

      .fav-card-btn.remove-btn {
        background: rgba(255, 107, 107, 0.1);
        color: #ff6b6b;
        border-color: rgba(255, 107, 107, 0.3);
      }

      .fav-card-btn.remove-btn:hover {
        background: rgba(255, 107, 107, 0.2);
      }
    </style>
  </head>
  <body>
    <!-- –§–æ–Ω -->
    <div class="background-image"></div>
    <div class="background-overlay"></div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="main-nav">
      <div class="nav-container">
        <div class="nav-left">
          <div class="crescent-icon" id="menuToggle">
            <div class="crescent-shape"></div>
          </div>
        </div>
        <div class="nav-center">
          <div class="bismillah">ÿ®Ÿêÿ≥ŸíŸÖŸê ÿßŸÑŸÑŸëŸéŸáŸê ÿßŸÑÿ±ŸëŸéÿ≠ŸíŸÖŸéŸ∞ŸÜŸê ÿßŸÑÿ±ŸëŸéÿ≠ŸêŸäŸÖŸê</div>
        </div>
        <div class="nav-right">
          <a href="koran.html" class="nav-fav" style="margin-right: 15px">
            <i class="fas fa-book-quran"></i>
          </a>
          <div class="nav-star">
            <i class="fas fa-star"></i>
          </div>
        </div>
      </div>
    </nav>

    <!-- –ì–ª–∞–≤–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <header class="fav-hero">
      <h1 class="fav-title-arabic">ÿßŸÑŸíŸÖŸèŸÅŸéÿ∂ŸëŸéŸÑŸéÿßÿ™Ÿè</h1>
      <h2 class="fav-title-latin">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h2>
      <p class="fav-subtitle">
        –í–∞—à–∞ –ª–∏—á–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —Å—É—Ä, –¥—É–∞, —Ö–∞–¥–∏—Å–æ–≤ –∏ —Å—É–Ω–Ω—ã
      </p>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <main class="fav-container">
      <!-- –í–∫–ª–∞–¥–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
      <nav class="fav-tabs" id="favTabs">
        <button class="fav-tab active" data-type="all">
          <i class="fas fa-star"></i> –í—Å—ë –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
          <span class="count" id="countAll">0</span>
        </button>
        <button class="fav-tab" data-type="quran">
          <i class="fas fa-book-quran"></i> –ö–æ—Ä–∞–Ω
          <span class="count" id="countQuran">0</span>
        </button>
        <button class="fav-tab" data-type="dua">
          <i class="fas fa-hands-praying"></i> –î—É–∞
          <span class="count" id="countDua">0</span>
        </button>
        <button class="fav-tab" data-type="azkar">
          <i class="fas fa-gem"></i> –ê–∑–∫–∞—Ä—ã
          <span class="count" id="countAzkar">0</span>
        </button>
        <button class="fav-tab" data-type="hadith">
          <i class="fas fa-book-open"></i> –•–∞–¥–∏—Å—ã
          <span class="count" id="countHadith">0</span>
        </button>
        <button class="fav-tab" data-type="sunnah">
          <i class="fas fa-sun"></i> –°—É–Ω–Ω–∞
          <span class="count" id="countSunnah">0</span>
        </button>
      </nav>

      <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ -->
      <div class="fav-content" id="favContent">
        <!-- –°–µ–∫—Ü–∏—è "–í—Å–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ" -->
        <section class="fav-section active" id="all-section">
          <div class="fav-grid" id="allGrid">
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
          </div>
          <div class="empty-message" id="allEmpty" style="display: none">
            <i class="far fa-heart"></i>
            <h3>–ó–¥–µ—Å—å –ø–æ–∫–∞ –ø—É—Å—Ç–æ</h3>
            <p>
              –î–æ–±–∞–≤–ª—è–π—Ç–µ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è —Å—É—Ä—ã, –¥—É–∞, —Ö–∞–¥–∏—Å—ã –∏ —Å—É–Ω–Ω—ã, –Ω–∞–∂–∏–º–∞—è –Ω–∞
              —Å–µ—Ä–¥–µ—á–∫–æ ‚ù§Ô∏è
            </p>
            <a href="koran.html" class="btn">–ü–µ—Ä–µ–π—Ç–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É</a>
          </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è "–ö–æ—Ä–∞–Ω" -->
        <section class="fav-section" id="quran-section">
          <div class="fav-grid" id="quranGrid"></div>
          <div class="empty-message" id="quranEmpty" style="display: none">
            <i class="fas fa-book-quran"></i>
            <h3>–ù–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Å—É—Ä</h3>
            <p>–î–æ–±–∞–≤—å—Ç–µ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è –∞—è—Ç—ã –∏–∑ –ö–æ—Ä–∞–Ω–∞ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</p>
            <a href="koran.html" class="btn">–ß–∏—Ç–∞—Ç—å –ö–æ—Ä–∞–Ω</a>
          </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è "–î—É–∞" -->
        <section class="fav-section" id="dua-section">
          <div class="fav-grid" id="duaGrid"></div>
          <div class="empty-message" id="duaEmpty" style="display: none">
            <i class="fas fa-hands-praying"></i>
            <h3>–ù–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –¥—É–∞</h3>
            <p>–î–æ–±–∞–≤–ª—è–π—Ç–µ –ø–æ–ª–µ–∑–Ω—ã–µ –º–æ–ª–∏—Ç–≤—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞</p>
            <a href="koran.html#dua" class="btn">–ß–∏—Ç–∞—Ç—å –¥—É–∞</a>
          </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è "–ê–∑–∫–∞—Ä—ã" -->
        <section class="fav-section" id="azkar-section">
          <div class="fav-grid" id="azkarGrid"></div>
          <div class="empty-message" id="azkarEmpty" style="display: none">
            <i class="fas fa-gem"></i>
            <h3>–ù–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∞–∑–∫–∞—Ä–æ–≤</h3>
            <p>–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –ø–æ–º–∏–Ω–∞–Ω–∏—è –ê–ª–ª–∞—Ö–∞ –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏</p>
            <a href="koran.html#azkar" class="btn">–ß–∏—Ç–∞—Ç—å –∞–∑–∫–∞—Ä—ã</a>
          </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è "–•–∞–¥–∏—Å—ã" -->
        <section class="fav-section" id="hadith-section">
          <div class="fav-grid" id="hadithGrid"></div>
          <div class="empty-message" id="hadithEmpty" style="display: none">
            <i class="fas fa-book-open"></i>
            <h3>–ù–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ö–∞–¥–∏—Å–æ–≤</h3>
            <p>–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –º—É–¥—Ä—ã–µ –≤—ã—Å–∫–∞–∑—ã–≤–∞–Ω–∏—è –ü—Ä–æ—Ä–æ–∫–∞ (Ô∑∫) –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</p>
            <a href="koran.html#hadith" class="btn">–ß–∏—Ç–∞—Ç—å —Ö–∞–¥–∏—Å—ã</a>
          </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è "–°—É–Ω–Ω–∞" -->
        <section class="fav-section" id="sunnah-section">
          <div class="fav-grid" id="sunnahGrid"></div>
          <div class="empty-message" id="sunnahEmpty" style="display: none">
            <i class="fas fa-sun"></i>
            <h3>–ù–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Å—É–Ω–Ω</h3>
            <p>–î–æ–±–∞–≤–ª—è–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –∂–∏–∑–Ω–∏ –ü—Ä–æ—Ä–æ–∫–∞ (Ô∑∫) –¥–ª—è —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</p>
            <a href="koran.html#sunnah" class="btn">–ß–∏—Ç–∞—Ç—å —Å—É–Ω–Ω—É</a>
          </div>
        </section>
      </div>
    </main>

    <!-- –§—É—Ç–µ—Ä
    <footer class="main-footer">
      <div class="footer-container">
        <div class="footer-logo">
          <span class="footer-arabic">ŸÖŸéÿπŸíÿ±ŸêŸÅŸéÿ©</span>
          <span class="footer-latin">MA'RIFA</span>
        </div>
        <div class="footer-text">
          <p>–í–∞—à–∞ –ª–∏—á–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥—É—Ö–æ–≤–Ω—ã—Ö –∑–Ω–∞–Ω–∏–π</p>
        </div>
        <div class="footer-divider">
          <div class="footer-line"></div>
          <div class="footer-dot"></div>
          <div class="footer-line"></div>
        </div>
        <div class="footer-copyright">
          ¬© 2024 MA'RIFA. –ò—Å–∫—É—Å—Å—Ç–≤–æ –¢–∞–¥–∂–≤–∏–¥–∞. –í—Å–µ –ø—Ä–∞–≤–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.
        </div>
      </div>
    </footer> -->

    <!-- –°–∫—Ä–∏–ø—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
          console.log('‚ù§Ô∏è –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');

          // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
          initFavoritesSystem();

          // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–∫–ª–∞–¥–æ–∫
          initFavTabs();

          // –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
          loadFavorites();
      });// ===== –°–ò–°–¢–ï–ú–ê –ò–ó–ë–†–ê–ù–ù–û–ì–û –î–õ–Ø –≠–¢–û–ô –°–¢–†–ê–ù–ò–¶–´ =====
      function initFavoritesSystem() {
          // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç—É –∂–µ —Å–∏—Å—Ç–µ–º—É, —á—Ç–æ –∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ koran.html
          const userId = getCurrentUserId();
          const FAV_KEY = marifa_favorites_${userId};

          function getCurrentUserId() {
              const user = JSON.parse(localStorage.getItem('marifa_currentUser') || 'null');
              return user ? user.id : 'guest';
          }

          // –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
          window.getAllFavorites = function() {
              const favData = localStorage.getItem(FAV_KEY);
              return favData ? JSON.parse(favData) : {
                  quran: [],
                  dua: [],
                  azkar: [],
                  hadith: [],
                  sunnah: []
              };
          };

          // –§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
          window.removeFromFavorites = function(type, id) {
              const favorites = window.getAllFavorites();
              const typeArray = favorites[type];

              const index = typeArray.indexOf(id);
              if (index !== -1) {
                  typeArray.splice(index, 1);
                  localStorage.setItem(FAV_KEY, JSON.stringify(favorites));
                  console.log(`üóëÔ∏è –£–¥–∞–ª–µ–Ω–æ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ: ${type}-${id}`);
                  return true;
              }
              return false;
          };
      }

      // ===== –í–ö–õ–ê–î–ö–ò –°–¢–†–ê–ù–ò–¶–´ –ò–ó–ë–†–ê–ù–ù–û–ì–û =====
      function initFavTabs() {
          const tabs = document.querySelectorAll('.fav-tab');
          const sections = document.querySelectorAll('.fav-section');

          tabs.forEach(tab => {
              tab.addEventListener('click', function() {
                  const type = this.getAttribute('data-type');

                  // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
                  tabs.forEach(t => t.classList.remove('active'));
                  // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–π
                  this.classList.add('active');

                  // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å–µ–∫—Ü–∏–∏
                  sections.forEach(section => {
                      section.classList.remove('active');
                  });

                  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é —Å–µ–∫—Ü–∏—é
                  const section = document.getElementById(type + '-section');
                  if (section) {
                      section.classList.add('active');
                  }

                  // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
                  updateTabCounts();
              });
          });
      }

      // ===== –ó–ê–ì–†–£–ó–ö–ê –ò –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï –ò–ó–ë–†–ê–ù–ù–û–ì–û =====
      function loadFavorites() {
          const favorites = window.getAllFavorites();

          // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏ –≤–æ –≤–∫–ª–∞–¥–∫–∞—Ö
          updateTabCounts();

          // –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —ç—Ç–æ –±—ã–ª–æ –±—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö)
          const allData = {
              quran: [
                  { id: "1-1", type: "quran", title: "–ê–ª—å-–§–∞—Ç–∏—Ö–∞, –∞—è—Ç 1",
                    arabic: "ÿ®Ÿêÿ≥ŸíŸÖŸê ÿßŸÑŸÑŸëŸéŸáŸê ÿßŸÑÿ±ŸëŸéÿ≠ŸíŸÖŸéŸ∞ŸÜŸê ÿßŸÑÿ±ŸëŸéÿ≠ŸêŸäŸÖŸê",
                    translation: "–í–æ –∏–º—è –ê–ª–ª–∞—Ö–∞, –ú–∏–ª–æ—Å—Ç–∏–≤–æ–≥–æ, –ú–∏–ª–æ—Å–µ—Ä–¥–Ω–æ–≥–æ.",
                    description: "–°—É—Ä–∞ 1, –∞—è—Ç 1",
                    source: "–ö–æ—Ä–∞–Ω" },
                  { id: "1-2", type: "quran", title: "–ê–ª—å-–§–∞—Ç–∏—Ö–∞, –∞—è—Ç 2",
                    arabic: "ÿßŸÑŸíÿ≠ŸéŸÖŸíÿØŸè ŸÑŸêŸÑŸëŸéŸáŸê ÿ±Ÿéÿ®ŸëŸê ÿßŸÑŸíÿπŸéÿßŸÑŸéŸÖŸêŸäŸÜŸé",
                    translation: "–•–≤–∞–ª–∞ –ê–ª–ª–∞—Ö—É, –ì–æ—Å–ø–æ–¥—É –º–∏—Ä–æ–≤.",
                    description: "–°—É—Ä–∞ 1, –∞—è—Ç 2",
                    source: "–ö–æ—Ä–∞–Ω" }
              ],
              dua: [
                  { id: "1", type: "dua", title: "–î—É–∞ –ø–µ—Ä–µ–¥ —Å–Ω–æ–º",
                    arabic: "ÿ®Ÿêÿßÿ≥ŸíŸÖŸêŸÉŸé ÿ±Ÿéÿ®ŸêŸëŸÄŸä ŸàŸéÿ∂ŸéÿπŸíŸÄÿ™Ÿè ÿ¨ŸéŸÜŸíŸÄÿ®Ÿäÿå ŸàŸéÿ®ŸêŸÉŸé ÿ£Ÿéÿ±ŸíŸÅŸéÿπŸèŸÄŸá...",translation: "–° –¢–≤–æ–∏–º –∏–º–µ–Ω–µ–º, –ì–æ—Å–ø–æ–¥–∏, —è –ª–æ–∂—É—Å—å –∏ —Å –¢–≤–æ–∏–º –∏–º–µ–Ω–µ–º –≤—Å—Ç–∞—é...",
                    description: "–ß–∏—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Å–Ω–æ–º, –ª—ë–∂–∞ –Ω–∞ –ø—Ä–∞–≤–æ–º –±–æ–∫—É.",
                    source: "–ê–ª—å-–ë—É—Ö–∞—Ä–∏, –ú—É—Å–ª–∏–º" },
                  { id: "2", type: "dua", title: "–î—É–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –¥–æ–º–∞",
                    arabic: "ÿ®Ÿêÿ≥ŸíŸÖŸê ÿßŸÑŸÑŸëŸéŸáŸê ÿ™ŸéŸàŸéŸÉŸëŸéŸÑŸíŸÄÿ™Ÿè ÿπŸéŸÑŸéŸâ ÿßŸÑŸÑŸëŸéŸáŸêÿå ŸàŸéŸÑÿßŸé ÿ≠ŸéŸàŸíŸÑŸé ŸàŸéŸÑÿßŸé ŸÇŸèŸÄŸàŸëŸéÿ©Ÿé ÿ•ŸêŸÑÿßŸëŸé ÿ®ŸêÿßŸÑŸÑŸëŸéŸáŸê",
                    translation: "–° –∏–º–µ–Ω–µ–º –ê–ª–ª–∞—Ö–∞, —É–ø–æ–≤–∞—é –Ω–∞ –ê–ª–ª–∞—Ö–∞, –∏ –Ω–µ—Ç —Å–∏–ª—ã –∏ –º–æ—â–∏ –Ω–∏ —É –∫–æ–≥–æ, –∫—Ä–æ–º–µ –ê–ª–ª–∞—Ö–∞.",
                    description: "–ß–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –¥–æ–º–∞ –¥–ª—è –∑–∞—â–∏—Ç—ã.",
                    source: "–ê—Ç-–¢–∏—Ä–º–∏–∑–∏, –ê–±—É –î–∞—É–¥" }
              ],
              azkar: [
                  { id: "1", type: "azkar", title: "–°—É–±—Ö–∞–Ω–∞–ª–ª–∞—Ö",
                    arabic: "ÿ≥Ÿèÿ®Ÿíÿ≠ŸéÿßŸÜŸé ÿßŸÑŸÑŸëŸéŸáŸê",
                    translation: "–°–ª–∞–≤–∞ –ê–ª–ª–∞—Ö—É (–ü—Ä–µ—á–∏—Å—Ç –ê–ª–ª–∞—Ö –æ—Ç –≤—Å—è–∫–∏—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤).",
                    description: "–ü—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—Å—è 33 —Ä–∞–∑–∞ —É—Ç—Ä–æ–º –∏ –≤–µ—á–µ—Ä–æ–º.",
                    source: "–°—É–Ω–Ω–∞" },
                  { id: "4", type: "azkar", title: "–õ—è –∏–ª—è—Ö–∞ –∏–ª–ª—è–õ–ª–∞—Ö",
                    arabic: "ŸÑÿßŸé ÿ•ŸêŸÑŸéŸáŸé ÿ•ŸêŸÑÿßŸëŸé ÿßŸÑŸÑŸëŸéŸáŸè ŸàŸéÿ≠ŸíÿØŸéŸáŸè ŸÑÿßŸé ÿ¥Ÿéÿ±ŸêŸäŸÉŸé ŸÑŸéŸáŸè...",
                    translation: "–ù–µ—Ç –±–æ–∂–µ—Å—Ç–≤–∞, –∫—Ä–æ–º–µ –ê–ª–ª–∞—Ö–∞, –ï–¥–∏–Ω–æ–≥–æ, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç —Å–æ—Ç–æ–≤–∞—Ä–∏—â–∞...",
                    description: "–ü—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—Å—è 10 —Ä–∞–∑ —É—Ç—Ä–æ–º –∏ –≤–µ—á–µ—Ä–æ–º.",
                    source: "–°—É–Ω–Ω–∞" }
              ],
              hadith: [
                  { id: "1", type: "hadith", title: "–û –º–∏–ª–æ—Å–µ—Ä–¥–∏–∏",
                    arabic: "ÿßŸÑÿ±ŸëŸéÿßÿ≠ŸêŸÖŸèŸàŸÜŸé ŸäŸéÿ±Ÿíÿ≠ŸéŸÖŸèŸáŸèŸÖŸè ÿßŸÑÿ±ŸëŸéÿ≠ŸíŸÖŸéŸÜŸè ÿßÿ±Ÿíÿ≠ŸéŸÖŸèŸàÿß ŸÖŸéŸÜŸí ŸÅŸêŸä ÿßŸÑŸíÿ£Ÿéÿ±Ÿíÿ∂Ÿê ŸäŸéÿ±Ÿíÿ≠ŸéŸÖŸíŸÉŸèŸÖŸí ŸÖŸéŸÜŸí ŸÅŸêŸä ÿßŸÑÿ≥ŸëŸéŸÖŸéÿßÿ°Ÿê",
                    translation: "–ú–∏–ª–æ—Å—Ç–∏–≤—ã–µ –±—É–¥—É—Ç –ø–æ–º–∏–ª–æ–≤–∞–Ω—ã –ú–∏–ª–æ—Å—Ç–∏–≤—ã–º. –ë—É–¥—å—Ç–µ –º–∏–ª–æ—Å—Ç–∏–≤—ã –∫ —Ç–µ–º, –∫—Ç–æ –Ω–∞ –∑–µ–º–ª–µ...",
                    description: "–•–∞–¥–∏—Å –æ –≤–∞–∂–Ω–æ—Å—Ç–∏ –º–∏–ª–æ—Å–µ—Ä–¥–∏—è.",
                    source: "–ê—Ç-–¢–∏—Ä–º–∏–∑–∏, –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—ã–π" }
              ],
              sunnah: [
                  { id: "1", type: "sunnah", title: "–°–æ–Ω –Ω–∞ –ø—Ä–∞–≤–æ–º –±–æ–∫—É",
                    arabic: "",
                    translation: "",
                    description: "–ü—Ä–æ—Ä–æ–∫ (Ô∑∫) –ª–æ–∂–∏–ª—Å—è —Å–ø–∞—Ç—å –Ω–∞ –ø—Ä–∞–≤—ã–π –±–æ–∫, –ø–æ–ª–æ–∂–∏–≤ –ø—Ä–∞–≤—É—é –ª–∞–¥–æ–Ω—å –ø–æ–¥ —â—ë–∫—É.",
                    source: "–°—É–Ω–Ω–∞, –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ" },
                  { id: "2", type: "sunnah", title: "–ù–∞—á–∏–Ω–∞—Ç—å —Å –ø—Ä–∞–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã",
                    arabic: "",
                    translation: "",
                    description: "–ü—Ä–∏ –Ω–∞–¥–µ–≤–∞–Ω–∏–∏ –æ–¥–µ–∂–¥—ã, –æ–±—É–≤–∏, –∑–∞—Ö–æ–¥–µ –≤ –º–µ—á–µ—Ç—å –∏–ª–∏ –¥–æ–º, –Ω–∞—á–∞–ª–µ –µ–¥—ã ‚Äî –Ω–∞—á–∏–Ω–∞—Ç—å —Å –ø—Ä–∞–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã.",
                    source: "–°—É–Ω–Ω–∞, –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ" }
              ]
          };

          // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
          for (const type in favorites) {
              displayFavoritesByType(type, favorites[type], allData[type] || []);
          }

          // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤—Å–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
          displayAllFavorites(favorites, allData);
      }

      // ===== –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï –ò–ó–ë–†–ê–ù–ù–û–ì–û –ü–û –¢–ò–ü–ê–ú =====
      function displayFavoritesByType(type, favoriteIds, allData) {
          const grid = document.getElementById(type + 'Grid');
          const emptyMsg = document.getElementById(type + 'Empty');

          if (!grid) return;

          // –û—á–∏—â–∞–µ–º —Å–µ—Ç–∫—É
          grid.innerHTML = '';

          // –§–∏–ª—å—Ç—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ –∏–∑–±—Ä–∞–Ω–Ω—ã–º ID
          const favoritesToShow = allData.filter(item => favoriteIds.includes(item.id));

          if (favoritesToShow.length === 0) {
              // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ "–ø—É—Å—Ç–æ"
              if (emptyMsg) emptyMsg.style.display = 'block';
              return;
          }

          // –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ "–ø—É—Å—Ç–æ"
          if (emptyMsg) emptyMsg.style.display = 'none';

          // –°–æ–∑–¥–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
          favoritesToShow.forEach(item => {
              const card = createFavCard(item);
              grid.appendChild(card);
          });
      }// ===== –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï –í–°–ï–ì–û –ò–ó–ë–†–ê–ù–ù–û–ì–û =====
      function displayAllFavorites(favorites, allData) {
          const grid = document.getElementById('allGrid');
          const emptyMsg = document.getElementById('allEmpty');

          if (!grid) return;

          // –û—á–∏—â–∞–µ–º —Å–µ—Ç–∫—É
          grid.innerHTML = '';

          // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –∏–∑ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
          let allFavorites = [];

          for (const type in favorites) {
              const favoriteIds = favorites[type];
              const typeData = allData[type] || [];

              const favoritesOfType = typeData.filter(item => favoriteIds.includes(item.id));
              allFavorites = allFavorites.concat(favoritesOfType);
          }

          if (allFavorites.length === 0) {
              // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ "–ø—É—Å—Ç–æ"
              if (emptyMsg) emptyMsg.style.display = 'block';
              return;
          }

          // –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ "–ø—É—Å—Ç–æ"
          if (emptyMsg) emptyMsg.style.display = 'none';

          // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —Ç–∏–ø—É (–¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã)
          const typeOrder = { quran: 1, dua: 2, azkar: 3, hadith: 4, sunnah: 5 };
          allFavorites.sort((a, b) => typeOrder[a.type] - typeOrder[b.type]);

          // –°–æ–∑–¥–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏
          allFavorites.forEach(item => {
              const card = createFavCard(item);
              grid.appendChild(card);
          });
      }

      // ===== –°–û–ó–î–ê–ù–ò–ï –ö–ê–†–¢–û–ß–ö–ò –ò–ó–ë–†–ê–ù–ù–û–ì–û =====
      function createFavCard(item) {
          const card = document.createElement('div');
          card.className = 'fav-card';

          // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–ª–∞—Å—Å —Ç–∏–ø–∞ –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
          const typeClass = item.type;
          const typeLabels = {
              quran: '–ö–æ—Ä–∞–Ω',
              dua: '–î—É–∞',
              azkar: '–ê–∑–∫–∞—Ä',
              hadith: '–•–∞–¥–∏—Å',
              sunnah: '–°—É–Ω–Ω–∞'
          };

          card.innerHTML = `
              <div class="fav-card-header">
                  <div>
                      <span class="fav-card-type ${typeClass}">${typeLabels[item.type] || item.type}</span>
                      <h3 class="fav-card-title">${item.title}</h3>
                  </div>
              </div>
              ${item.arabic ? <div class="fav-card-arabic">${item.arabic}</div> : ''}
              ${item.translation ? <div class="fav-card-translation"><strong>${item.translation}</strong></div> : ''}
              ${item.description ? <div class="fav-card-description">${item.description}</div> : ''}
              ${item.source ? <div class="fav-card-description"><small>–ò—Å—Ç–æ—á–Ω–∏–∫: ${item.source}</small></div> : ''}
              <div class="fav-card-actions">
                  <button class="fav-card-btn go-btn" data-type="${item.type}" data-id="${item.id}">
                      <i class="fas fa-external-link-alt"></i> –ü–µ—Ä–µ–π—Ç–∏
                  </button>
                  <button class="fav-card-btn remove-btn" data-type="${item.type}" data-id="${item.id}">
                      <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
                  </button>
              </div>
          `;

          // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫
          const goBtn = card.querySelector('.go-btn');
          const removeBtn = card.querySelector('.remove-btn');

          if (goBtn) {
              goBtn.addEventListener('click', function() {
                  const type = this.getAttribute('data-type');
                  const id = this.getAttribute('data-id');

                  // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª–∞ –±—ã –Ω–∞–≤–∏–≥–∞—Ü–∏—è
                  alert(`–ü–µ—Ä–µ—Ö–æ–¥ –∫ —ç–ª–µ–º–µ–Ω—Ç—É: ${type}-${id}\n\n–í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ koran.html —Å –æ—Ç–∫—Ä—ã—Ç–∏–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ä–∞–∑–¥–µ–ª–∞`);
              });
          }

          if (removeBtn) {
              removeBtn.addEventListener('click', function() {
                  const type = this.getAttribute('data-type');
                  const id = this.getAttribute('data-id');

                  if (window.removeFromFavorites(type, id)) {
                      // –£–¥–∞–ª—è–µ–º –∫–∞—Ä—Ç–æ—á–∫—É –∏–∑ DOM
                      card.style.opacity = '0';
                      card.style.transform = 'card.style.transform = 'translateX(100px)';

                      setTimeout(() => {
                          card.remove();
                          // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
                          loadFavorites();
                          // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
                          updateTabCounts();
                      }, 300);
                  }
              });
          }

          return card;
      }

      // ===== –û–ë–ù–û–í–õ–ï–ù–ò–ï –°–ß–ï–¢–ß–ò–ö–û–í –í–û –í–ö–õ–ê–î–ö–ê–• =====
      function updateTabCounts() {
          const favorites = window.getAllFavorites();

          // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
          let totalCount = 0;
          for (const type in favorites) {
              totalCount += favorites[type].length;
          }

          // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
          document.getElementById('countAll').textContent = totalCount;
          document.getElementById('countQuran').textContent = favorites.quran.length;
          document.getElementById('countDua').textContent = favorites.dua.length;
          document.getElementById('countAzkar').textContent = favorites.azkar.length;
          document.getElementById('countHadith').textContent = favorites.hadith.length;
          document.getElementById('countSunnah').textContent = favorites.sunnah.length;

          // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
          if (window.parent && window.parent.updateGlobalFavCounter) {
              window.parent.updateGlobalFavCounter();
          }

          // –õ–æ–∫–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
          const navFavCounter = document.querySelector('.nav-fav .fav-counter');
          if (navFavCounter) {
              navFavCounter.textContent = totalCount;
              navFavCounter.style.display = totalCount > 0 ? 'flex' : 'none';
          }
      }

      // ===== –ù–ê–í–ò–ì–ê–¶–ò–Ø –ú–ï–ñ–î–£ –°–¢–†–ê–ù–ò–¶–ê–ú–ò =====
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ "–Ω–∞–∑–∞–¥" –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
      const crescentIcon = document.getElementById('menuToggle');
      if (crescentIcon) {
          crescentIcon.addEventListener('click', function() {
              window.location.href = 'dashboard.html';
          });
      }
    </script>
  </body>
</html>
