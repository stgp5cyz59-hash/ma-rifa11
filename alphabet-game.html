<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MA'RIFA - –ò–≥—Ä–∞: –ê—Ä–∞–±—Å–∫–∏–π –∞–ª—Ñ–∞–≤–∏—Ç</title>

    <!-- –°—Ç–∏–ª–∏ —Å–∞–π—Ç–∞ -->
    <link rel="stylesheet" href="style.css" />

    <!-- –®—Ä–∏—Ñ—Ç—ã -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700;800&family=Cormorant+Garamond:wght@400;500;600;700;800&family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Lateef:wght@400;500;600;700&family=Noto+Naskh+Arabic:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- –°—Ç–∏–ª–∏ –∏–≥—Ä—ã -->
    <style>
      /* ===== –û–°–ù–û–í–ù–´–ï –°–¢–ò–õ–ò –ò–ì–†–´ ===== */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", sans-serif;
        min-height: 100vh;
        background: linear-gradient(135deg, #1a0b2e 0%, #2d1b4e 100%);
        position: relative;
        overflow-x: hidden;
      }

      /* ===== –§–û–ù –ò–ì–†–´ ===== */
      .game-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -2;
        background: url("images/nebo11.jpg") center/cover no-repeat fixed;
      }

      .game-background-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          135deg,
          rgba(138, 74, 95, 0.85) 0%,
          rgba(109, 57, 74, 0.9) 50%,
          rgba(45, 27, 78, 0.95) 100%
        );
        backdrop-filter: blur(5px);
      }

      /* ===== –î–ï–ö–û–†–ê–¢–ò–í–ù–´–ï –≠–õ–ï–ú–ï–ù–¢–´ ===== */
      .game-decorations {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: -1;
        overflow: hidden;
      }

      .floating-arabic {
        position: absolute;
        font-family: "Amiri", serif;
        font-size: 3rem;
        color: rgba(212, 165, 116, 0.1);
        animation: float 20s infinite linear;
        user-select: none;
      }

      @keyframes float {
        0% {
          transform: translate(0, 0) rotate(0deg);
        }
        100% {
          transform: translate(100px, 100px) rotate(360deg);
        }
      }

      /* ===== –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† ===== */
      .game-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        position: relative;
        z-index: 1;
      }

      /* ===== –®–ê–ü–ö–ê –ò–ì–†–´ ===== */
      .game-header {
        text-align: center;
        padding: 40px 20px;
        margin-bottom: 30px;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 25px;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
        border: 3px solid #d4a574;
        position: relative;
        overflow: hidden;
      }

      .game-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          45deg,
          rgba(138, 74, 95, 0.1) 0%,
          rgba(212, 165, 116, 0.1) 50%,
          rgba(138, 74, 95, 0.1) 100%
        );
      }

      .game-title-arabic {
        font-family: "Amiri", serif;
        font-size: 4.5rem;
        color: #8a4a5f;
        margin-bottom: 15px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        position: relative;
        z-index: 2;
      }

      .game-title-latin {
        font-family: "Cormorant Garamond", serif;
        font-size: 2.5rem;
        color: #6d394a;
        margin-bottom: 20px;
        font-weight: 600;
        position: relative;
        z-index: 2;
      }

      .game-subtitle {
        font-family: "Inter", sans-serif;
        font-size: 1.2rem;
        color: #666;
        max-width: 800px;
        margin: 0 auto;
        line-height: 1.6;
        position: relative;
        z-index: 2;
      }

      /* ===== –ò–ì–†–û–í–ê–Ø –ü–ê–ù–ï–õ–¨ ===== */
      .game-panel {
        background: rgba(255, 255, 255, 0.98);
        border-radius: 25px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.25);
        border: 3px solid #a86c82;
        position: relative;
        overflow: hidden;
      }

      .game-panel::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          45deg,
          rgba(168, 108, 130, 0.05) 0%,
          rgba(212, 165, 116, 0.05) 100%
        );
      }

      /* ===== –°–¢–ê–¢–ò–°–¢–ò–ö–ê ===== */
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .stat-card {
        background: rgba(138, 74, 95, 0.1);
        border-radius: 20px;
        padding: 20px;
        text-align: center;
        border: 2px solid rgba(138, 74, 95, 0.2);
        transition: all 0.3s ease;
        position: relative;
        z-index: 2;
      }

      .stat-card:hover {
        transform: translateY(-5px);
        border-color: #8a4a5f;
        box-shadow: 0 10px 25px rgba(138, 74, 95, 0.2);
      }

      .stat-value {
        font-family: "Cormorant Garamond", serif;
        font-size: 2.8rem;
        color: #8a4a5f;
        font-weight: 700;
        line-height: 1;
      }

      .stat-label {
        font-family: "Inter", sans-serif;
        font-size: 0.9rem;
        color: #666;
        margin-top: 8px;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      /* ===== –ü–†–û–ì–†–ï–°–°-–ë–ê–† ===== */
      .progress-wrapper {
        margin: 25px 0;
      }

      .progress-header {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
        font-family: "Inter", sans-serif;
        font-size: 0.9rem;
        color: #666;
      }

      .progress-container {
        width: 100%;
        height: 12px;
        background: rgba(138, 74, 95, 0.1);
        border-radius: 6px;
        overflow: hidden;
        border: 2px solid rgba(138, 74, 95, 0.2);
      }

      .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #8a4a5f, #d4a574);
        border-radius: 6px;
        width: 0%;
        transition: width 0.5s ease;
        position: relative;
        overflow: hidden;
      }

      .progress-bar::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent 0%,
          rgba(255, 255, 255, 0.3) 50%,
          transparent 100%
        );
        animation: shine 2s infinite;
      }

      @keyframes shine {
        0% {
          transform: translateX(-100%);
        }
        100% {
          transform: translateX(100%);
        }
      }

      /* ===== –£–†–û–í–ù–ò –°–õ–û–ñ–ù–û–°–¢–ò ===== */
      .difficulty-selector {
        margin: 25px 0;
      }

      .difficulty-title {
        font-family: "Cormorant Garamond", serif;
        font-size: 1.3rem;
        color: #6d394a;
        margin-bottom: 15px;
        text-align: center;
        font-weight: 600;
      }

      .difficulty-buttons {
        display: flex;
        justify-content: center;
        gap: 15px;
        flex-wrap: wrap;
      }

      .difficulty-btn {
        padding: 12px 25px;
        border: none;
        border-radius: 50px;
        font-family: "Inter", sans-serif;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .difficulty-btn.easy {
        background: rgba(76, 175, 80, 0.1);
        color: #2e7d32;
        border: 2px solid #4caf50;
      }

      .difficulty-btn.medium {
        background: rgba(255, 152, 0, 0.1);
        color: #f57c00;
        border: 2px solid #ff9800;
      }

      .difficulty-btn.hard {
        background: rgba(244, 67, 54, 0.1);
        color: #c62828;
        border: 2px solid #f44336;
      }

      .difficulty-btn.active {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      }

      .difficulty-btn:hover:not(.active) {
        transform: translateY(-2px);
      }

      /* ===== –û–°–ù–û–í–ù–û–ï –ò–ì–†–û–í–û–ï –ü–û–õ–ï ===== */
      .game-main {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
        margin-bottom: 40px;
      }

      @media (max-width: 768px) {
        .game-main {
          grid-template-columns: 1fr;
        }
      }

      /* ===== –ö–ê–†–¢–û–ß–ö–ê –ë–£–ö–í–´ ===== */
      .letter-display-card {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 25px;
        padding: 40px;
        text-align: center;
        box-shadow: 0 20px 50px rgba(138, 74, 95, 0.25);
        border: 3px solid #8a4a5f;
        position: relative;
        overflow: hidden;
        min-height: 350px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      .letter-display-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          45deg,
          rgba(138, 74, 95, 0.05) 0%,
          rgba(212, 165, 116, 0.05) 100%
        );
      }

      .current-letter {
        font-family: "Amiri", serif;
        font-size: 12rem;
        color: #8a4a5f;
        margin-bottom: 20px;
        line-height: 1;
        text-shadow: 3px 3px 0 rgba(212, 165, 116, 0.3);
        position: relative;
        z-index: 2;
      }

      .letter-info {
        position: relative;
        z-index: 2;
      }

      .letter-name {
        font-family: "Cormorant Garamond", serif;
        font-size: 2.2rem;
        color: #6d394a;
        margin-bottom: 10px;
        font-weight: 700;
      }

      .letter-details {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-top: 15px;
      }

      .letter-detail {
        font-family: "Inter", sans-serif;
        font-size: 1rem;
        color: #666;
        display: flex;
        align-items: center;
        gap: 8px;
        justify-content: center;
      }

      .letter-detail i {
        color: #d4a574;
        font-size: 0.9rem;
      }

      /* ===== –ö–ê–†–¢–û–ß–ö–ê –û–¢–í–ï–¢–û–í ===== */
      .answers-card {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 25px;
        padding: 40px;
        box-shadow: 0 20px 50px rgba(138, 74, 95, 0.25);
        border: 3px solid #d4a574;
        position: relative;
        overflow: hidden;
        min-height: 350px;
      }

      .answers-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          45deg,
          rgba(212, 165, 116, 0.05) 0%,
          rgba(245, 213, 166, 0.05) 100%
        );
      }

      .answers-title {
        font-family: "Cormorant Garamond", serif;
        font-size: 1.8rem;
        color: #6d394a;
        margin-bottom: 30px;
        text-align: center;
        font-weight: 700;
        position: relative;
        z-index: 2;
      }

      .answers-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 15px;
      }

      .answer-btn {
        padding: 20px;
        background: rgba(138, 74, 95, 0.08);
        border: 3px solid rgba(138, 74, 95, 0.2);
        border-radius: 20px;
        font-family: "Cormorant Garamond", serif;
        font-size: 1.3rem;
        color: #4a4048;
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: center;
        font-weight: 600;
        position: relative;
        z-index: 2;
      }

      .answer-btn:hover:not(.correct):not(.wrong):not(:disabled) {
        background: rgba(138, 74, 95, 0.15);
        transform: translateY(-5px);
        border-color: #8a4a5f;
      }

      .answer-btn.correct {
        background: rgba(76, 175, 80, 0.2);
        border-color: #4caf50;
        color: #2e7d32;
        animation: pulse 0.5s ease;
      }

      .answer-btn.wrong {
        background: rgba(244, 67, 54, 0.2);
        border-color: #f44336;
        color: #c62828;
        animation: shake 0.5s ease;
      }

      .answer-btn:disabled {
        cursor: not-allowed;
        opacity: 0.7;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-5px);
        }
        75% {
          transform: translateX(5px);
        }
      }

      /* ===== –ö–ù–û–ü–ö–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø ===== */
      .controls-section {
        margin: 25px 0;
      }

      .controls-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
      }

      .control-btn {
        padding: 15px 25px;
        border-radius: 50px;
        font-family: "Inter", sans-serif;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        transition: all 0.3s ease;
        border: none;
        min-width: 180px;
      }

      .btn-start {
        background: linear-gradient(135deg, #8a4a5f, #6d394a);
        color: white;
      }

      .btn-sound {
        background: rgba(138, 87, 185, 0.64);
        color: #47333a;
        border: 2px solid rgba(92, 64, 73, 0.3);
      }

      .btn-hint {
        background: linear-gradient(135deg, #d4a574, #c1955e);
        color: #2d1b4e;
      }

      .btn-results {
        background: linear-gradient(135deg, #4a2c7a, #2d1b4e);
        color: white;
      }

      .control-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
      }

      .control-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none !important;
        box-shadow: none !important;
      }

      /* ===== –°–û–û–ë–©–ï–ù–ò–Ø ===== */
      .message-container {
        text-align: center;
        margin: 25px 0;
        min-height: 80px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .game-message {
        font-family: "Inter", sans-serif;
        font-size: 1.3rem;
        padding: 15px 30px;
        border-radius: 15px;
        font-weight: 600;
        display: inline-block;
        animation: messagePop 0.5s ease;
        max-width: 90%;
        word-wrap: break-word;
      }

      .message-success {
        background: rgba(76, 175, 80, 0.15);
        color: #2e7d32;
        border: 2px solid #4caf50;
      }

      .message-error {
        background: rgba(244, 67, 54, 0.15);
        color: #c62828;
        border: 2px solid #f44336;
      }

      .message-info {
        background: rgba(128, 82, 119, 0.608);
        color: #241a23;
        border: 2px solid #603d57ab;
      }

      .message-warning {
        background: rgba(255, 152, 0, 0.15);
        color: #f57c00;
        border: 2px solid #ff9800;
      }

      @keyframes messagePop {
        0% {
          transform: scale(0.8);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      /* ===== –•–ò–ù–¢–´ –ò –ü–û–î–°–ö–ê–ó–ö–ò ===== */
      .hint-container {
        background: rgba(255, 255, 255, 0.9);
        border-radius: 20px;
        padding: 20px;
        margin: 20px 0;
        border: 2px solid #d4a574;
        display: none;
      }

      .hint-container.active {
        display: block;
        animation: slideDown 0.3s ease;
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .hint-title {
        font-family: "Cormorant Garamond", serif;
        font-size: 1.2rem;
        color: #6d394a;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .hint-content {
        font-family: "Inter", sans-serif;
        color: #666;
        line-height: 1.5;
      }

      /* ===== –ü–†–û–ì–†–ï–°–° –ê–õ–§–ê–í–ò–¢–ê ===== */
      .alphabet-progress-section {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 25px;
        padding: 30px;
        margin-top: 40px;
        box-shadow: 0 15px 40px rgba(138, 74, 95, 0.2);
        border: 3px solid #a86c82;
      }

      .progress-title {
        font-family: "Cormorant Garamond", serif;
        font-size: 1.8rem;
        color: #6d394a;
        margin-bottom: 25px;
        text-align: center;
        font-weight: 700;
      }

      .alphabet-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
      }

      .alphabet-letter {
        width: 60px;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(138, 74, 95, 0.1);
        border-radius: 15px;
        font-family: "Amiri", serif;
        font-size: 1.8rem;
        color: #666;
        border: 2px solid transparent;
        transition: all 0.3s ease;
        position: relative;
      }

      .alphabet-letter.learned {
        background: rgba(76, 175, 80, 0.2);
        color: #2e7d32;
        border-color: #4caf50;
        transform: scale(1.05);
      }

      .alphabet-letter.current {
        background: rgba(212, 165, 116, 0.3);
        color: #8a4a5f;
        border-color: #d4a574;
        transform: scale(1.1);
        animation: pulse 2s infinite;
      }

      .alphabet-letter.favorite {
        background: rgba(255, 193, 7, 0.2);
        color: #ff8f00;
        border-color: #ffc107;
      }

      /* ===== –ù–ê–í–ò–ì–ê–¶–ò–Ø ===== */
      .game-navigation {
        display: flex;
        justify-content: center;
        gap: 25px;
        margin-top: 40px;
        flex-wrap: wrap;
      }

      .nav-btn {
        padding: 15px 35px;
        background: linear-gradient(135deg, #8a4a5f, #6d394a);
        color: white;
        border-radius: 50px;
        font-family: "Inter", sans-serif;
        font-size: 1.1rem;
        font-weight: 600;
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 12px;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
      }

      .nav-btn:hover {
        background: linear-gradient(135deg, #6d394a, #8a4a5f);
        transform: translateY(-3px);
        box-shadow: 0 15px 35px rgba(138, 74, 95, 0.3);
      }

      /* ===== –¢–ê–ô–ú–ï–† ===== */
      .timer-container {
        position: relative;
        width: 80px;
        height: 80px;
        margin: 0 auto;
      }

      .timer-circle {
        width: 100%;
        height: 100%;
        transform: rotate(-90deg);
      }

      .timer-bg {
        fill: none;
        stroke: rgba(138, 74, 95, 0.1);
        stroke-width: 8;
      }

      .timer-progress {
        fill: none;
        stroke: #d4a574;
        stroke-width: 8;
        stroke-linecap: round;
        stroke-dasharray: 251;
        stroke-dashoffset: 251;
        transition: stroke-dashoffset 1s linear;
      }

      .timer-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-family: "Inter", sans-serif;
        font-size: 1.5rem;
        font-weight: 700;
        color: #8a4a5f;
      }

      .timer-warning {
        color: #f44336;
        animation: pulse 1s infinite;
      }

      /* ===== –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê ===== */
      .modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 9999;
        align-items: center;
        justify-content: center;
        animation: fadeIn 0.3s ease;
      }

      .modal-overlay.active {
        display: flex;
      }

      .modal-content {
        background: white;
        border-radius: 30px;
        padding: 40px;
        max-width: 500px;
        width: 90%;
        text-align: center;
        box-shadow: 0 30px 80px rgba(0, 0, 0, 0.5);
        border: 4px solid #d4a574;
        animation: slideUp 0.5s ease;
        position: relative;
      }

      .modal-close {
        position: absolute;
        top: 20px;
        right: 20px;
        background: none;
        border: none;
        font-size: 1.5rem;
        color: #666;
        cursor: pointer;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: all 0.3s ease;
      }

      .modal-close:hover {
        background: rgba(138, 74, 95, 0.1);
        color: #8a4a5f;
      }

      .modal-title {
        font-family: "Cormorant Garamond", serif;
        font-size: 2.5rem;
        color: #8a4a5f;
        margin-bottom: 30px;
        font-weight: 700;
      }

      .modal-stats {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
        margin: 30px 0;
      }

      .modal-stat {
        padding: 20px;
        background: rgba(138, 74, 95, 0.08);
        border-radius: 20px;
        border: 2px solid rgba(138, 74, 95, 0.15);
      }

      .modal-value {
        font-family: "Cormorant Garamond", serif;
        font-size: 2.5rem;
        color: #8a4a5f;
        font-weight: 700;
        line-height: 1;
      }

      .modal-label {
        font-family: "Inter", sans-serif;
        font-size: 0.9rem;
        color: #666;
        margin-top: 8px;
      }

      /* ===== –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ ===== */
      @media (max-width: 768px) {
        .game-title-arabic {
          font-size: 3.5rem;
        }

        .game-title-latin {
          font-size: 2rem;
        }

        .current-letter {
          font-size: 8rem;
        }

        .letter-name {
          font-size: 1.8rem;
        }

        .stats-grid {
          grid-template-columns: repeat(2, 1fr);
        }

        .controls-grid {
          grid-template-columns: 1fr;
        }

        .control-btn {
          width: 100%;
        }
      }

      @media (max-width: 480px) {
        .game-title-arabic {
          font-size: 2.8rem;
        }

        .game-title-latin {
          font-size: 1.6rem;
        }

        .current-letter {
          font-size: 6rem;
        }

        .stats-grid {
          grid-template-columns: 1fr;
        }

        .difficulty-buttons {
          flex-direction: column;
        }

        .difficulty-btn {
          width: 100%;
          justify-content: center;
        }
      }

      /* ===== –ê–ù–ò–ú–ê–¶–ò–ò ===== */
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes slideUp {
        from {
          transform: translateY(50px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      /* ===== –¢–ï–ú–ê ===== */
      .theme-toggle {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
      }

      .theme-btn {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.9);
        border: 2px solid #8a4a5f;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 1.2rem;
        color: #8a4a5f;
        transition: all 0.3s ease;
      }

      .theme-btn:hover {
        transform: rotate(15deg);
        box-shadow: 0 5px 15px rgba(138, 74, 95, 0.3);
      }
    </style>
  </head>
  <body>
    <!-- –§–û–ù –ò–ì–†–´ -->
    <div class="game-background">
      <div class="game-background-overlay"></div>
    </div>

    <!-- –î–ï–ö–û–†–ê–¢–ò–í–ù–´–ï –≠–õ–ï–ú–ï–ù–¢–´ -->
    <div class="game-decorations" id="decorations"></div>

    <!-- –ü–ï–†–ï–ö–õ–Æ–ß–ê–¢–ï–õ–¨ –¢–ï–ú–´ -->
    <div class="theme-toggle">
      <button class="theme-btn" id="themeBtn">
        <i class="fas fa-moon"></i>
      </button>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† -->
    <div class="game-container">
      <!-- –®–ê–ü–ö–ê –ò–ì–†–´ -->
      <header class="game-header">
        <h1 class="game-title-arabic">ÿ≠Ÿèÿ±ŸèŸàŸÅ ÿßŸÑŸíŸáŸêÿ¨Ÿéÿßÿ°</h1>
        <h2 class="game-title-latin">–ò–≥—Ä–∞: –ê—Ä–∞–±—Å–∫–∏–π –∞–ª—Ñ–∞–≤–∏—Ç</h2>
        <p class="game-subtitle">
          –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –∞—Ä–∞–±—Å–∫–æ–≥–æ –∞–ª—Ñ–∞–≤–∏—Ç–∞! –ò–∑—É—á–∞–π—Ç–µ –±—É–∫–≤—ã, –ø–æ–ª—É—á–∞–π—Ç–µ
          –æ—á–∫–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å. –ö–∞–∂–¥—ã–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç –≤–∞—Å –∫
          —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–º—É —á—Ç–µ–Ω–∏—é –ö–æ—Ä–∞–Ω–∞.
        </p>
      </header>

      <!-- –ò–ì–†–û–í–ê–Ø –ü–ê–ù–ï–õ–¨ -->
      <div class="game-panel">
        <!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-value" id="score">0</div>
            <div class="stat-label">–û—á–∫–∏</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="correctCount">0</div>
            <div class="stat-label">–ü—Ä–∞–≤–∏–ª—å–Ω–æ</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="wrongCount">0</div>
            <div class="stat-label">–û—à–∏–±–∫–∏</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="streak">0</div>
            <div class="stat-label">–°–µ—Ä–∏—è</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="level">1</div>
            <div class="stat-label">–£—Ä–æ–≤–µ–Ω—å</div>
          </div>
          <div class="stat-card">
            <div class="timer-container">
              <svg class="timer-circle" viewBox="0 0 100 100">
                <circle class="timer-bg" cx="50" cy="50" r="40"></circle>
                <circle
                  class="timer-progress"
                  cx="50"
                  cy="50"
                  r="40"
                  id="timerCircle"
                ></circle>
              </svg>
              <div class="timer-text" id="timer">30</div>
            </div>
            <div class="stat-label">–í—Ä–µ–º—è</div>
          </div>
        </div>

        <!-- –ü–†–û–ì–†–ï–°–°-–ë–ê–† -->
        <div class="progress-wrapper">
          <div class="progress-header">
            <span>–ü—Ä–æ–≥—Ä–µ—Å—Å –∏–≥—Ä—ã</span>
            <span id="progressPercent">0%</span>
          </div>
          <div class="progress-container">
            <div class="progress-bar" id="gameProgress"></div>
          </div>
        </div>

        <!-- –£–†–û–í–ù–ò –°–õ–û–ñ–ù–û–°–¢–ò -->
        <div class="difficulty-selector">
          <h3 class="difficulty-title">–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</h3>
          <div class="difficulty-buttons">
            <button class="difficulty-btn easy active" data-difficulty="easy">
              <i class="fas fa-seedling"></i> –õ–µ–≥–∫–∏–π
            </button>
            <button class="difficulty-btn medium" data-difficulty="medium">
              <i class="fas fa-mountain"></i> –°—Ä–µ–¥–Ω–∏–π
            </button>
            <button class="difficulty-btn hard" data-difficulty="hard">
              <i class="fas fa-fire"></i> –°–ª–æ–∂–Ω—ã–π
            </button>
          </div>
        </div>
      </div>

      <!-- –û–°–ù–û–í–ù–û–ï –ò–ì–†–û–í–û–ï –ü–û–õ–ï -->
      <div class="game-main">
        <!-- –ö–ê–†–¢–û–ß–ö–ê –ë–£–ö–í–´ -->
        <div class="letter-display-card">
          <div class="current-letter" id="currentLetter">ÿß</div>
          <div class="letter-info">
            <div class="letter-name" id="letterName">–ê–ª–∏—Ñ</div>
            <div class="letter-details">
              <div class="letter-detail">
                <i class="fas fa-volume-up"></i>
                <span id="letterTrans">[aÀê]</span>
              </div>
              <div class="letter-detail">
                <i class="fas fa-weight-hanging"></i>
                <span id="letterType">–õ—ë–≥–∫–∞—è</span>
              </div>
              <div class="letter-detail">
                <i class="fas fa-microphone-alt"></i>
                <span id="letterMakhraj">–ü–æ–ª–æ—Å—Ç—å —Ä—Ç–∞</span>
              </div>
            </div>
          </div>
        </div>

        <!-- –ö–ê–†–¢–û–ß–ö–ê –û–¢–í–ï–¢–û–í -->
        <div class="answers-card">
          <h3 class="answers-title" id="questionText">
            –ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç—Ç–∞ –±—É–∫–≤–∞?
          </h3>
          <div class="answers-grid" id="answersGrid">
            <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
          </div>
        </div>
      </div>

      <!-- –ö–ù–û–ü–ö–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø -->
      <div class="controls-section">
        <div class="controls-grid">
          <button class="control-btn btn-start" id="startBtn">
            <i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
          </button>
          <button class="control-btn btn-sound" id="soundBtn">
            <i class="fas fa-volume-up"></i> –ó–≤—É–∫: –í–∫–ª
          </button>
          <button class="control-btn btn-hint" id="hintBtn">
            <i class="fas fa-lightbulb"></i> –ü–æ–¥—Å–∫–∞–∑–∫–∞
          </button>
          <button class="control-btn btn-results" id="resultsBtn">
            <i class="fas fa-trophy"></i> –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
          </button>
        </div>
      </div>

      <!-- –°–û–û–ë–©–ï–ù–ò–Ø -->
      <div class="message-container">
        <div class="game-message message-info" id="gameMessage">
          –ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É", —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∏–∑—É—á–µ–Ω–∏–µ –∞—Ä–∞–±—Å–∫–æ–≥–æ –∞–ª—Ñ–∞–≤–∏—Ç–∞!
        </div>
      </div>

      <!-- –•–ò–ù–¢–´ -->
      <div class="hint-container" id="hintContainer">
        <div class="hint-title"><i class="fas fa-lightbulb"></i> –ü–æ–¥—Å–∫–∞–∑–∫–∞</div>
        <div class="hint-content" id="hintContent">
          –¢–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ –±—É–¥–µ—Ç –∑–¥–µ—Å—å
        </div>
      </div>

      <!-- –ü–†–û–ì–†–ï–°–° –ê–õ–§–ê–í–ò–¢–ê -->
      <div class="alphabet-progress-section">
        <h3 class="progress-title">–í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ –∞–ª—Ñ–∞–≤–∏—Ç–µ</h3>
        <div class="alphabet-grid" id="alphabetGrid">
          <!-- –ê–ª—Ñ–∞–≤–∏—Ç –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
        </div>
        <div class="progress-wrapper">
          <div class="progress-header">
            <span>–ò–∑—É—á–µ–Ω–æ –±—É–∫–≤</span>
            <span id="learnedPercent">0%</span>
          </div>
          <div class="progress-container">
            <div class="progress-bar" id="alphabetProgress"></div>
          </div>
        </div>
      </div>

      <!-- –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
      <div class="game-navigation">
        <a href="game.html" class="nav-btn">
          <i class="fas fa-arrow-left"></i> –ö —Å–ø–∏—Å–∫—É –∏–≥—Ä
        </a>
        <a href="dashboard.html" class="nav-btn">
          <i class="fas fa-home"></i> –í –∫–∞–±–∏–Ω–µ—Ç
        </a>
        <a href="study.html" class="nav-btn">
          <i class="fas fa-book"></i> –£—á–µ–±–Ω—ã–π —Ä–∞–∑–¥–µ–ª
        </a>
      </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –†–ï–ó–£–õ–¨–¢–ê–¢–û–í -->
    <div class="modal-overlay" id="resultsModal">
      <div class="modal-content">
        <button class="modal-close" id="closeModal">&times;</button>
        <h2 class="modal-title">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–≥—Ä—ã</h2>

        <div class="modal-stats">
          <div class="modal-stat">
            <div class="modal-value" id="finalScore">0</div>
            <div class="modal-label">–û—á–∫–∏</div>
          </div>
          <div class="modal-stat">
            <div class="modal-value" id="finalCorrect">0</div>
            <div class="modal-label">–ü—Ä–∞–≤–∏–ª—å–Ω–æ</div>
          </div>
          <div class="modal-stat">
            <div class="modal-value" id="finalAccuracy">0%</div>
            <div class="modal-label">–¢–æ—á–Ω–æ—Å—Ç—å</div>
          </div>
          <div class="modal-stat">
            <div class="modal-value" id="finalTime">0—Å</div>
            <div class="modal-label">–í—Ä–µ–º—è</div>
          </div>
        </div>

        <div class="message-container" style="margin: 20px 0">
          <div class="game-message" id="finalMessage"></div>
        </div>

        <div class="controls-grid" style="margin-top: 30px">
          <button class="control-btn btn-start" id="playAgainBtn">
            <i class="fas fa-redo"></i> –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞
          </button>
          <button class="control-btn btn-results" id="shareBtn">
            <i class="fas fa-share-alt"></i> –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
          </button>
        </div>
      </div>
    </div>

    <!-- –°–ö–†–ò–ü–¢ –ò–ì–†–´ -->
    <script>
      // ===== –ö–û–ù–°–¢–ê–ù–¢–´ –ò –ü–ï–†–ï–ú–ï–ù–ù–´–ï =====
              const ARABIC_ALPHABET = [
                  { letter: "ÿß", name: "–ê–ª–∏—Ñ", trans: "[aÀê]", type: "–õ—ë–≥–∫–∞—è", makhraj: "–ü–æ–ª–æ—Å—Ç—å —Ä—Ç–∞", desc: "–ë—É–∫–≤–∞ —Ä–∞—Å—Ç—è–∂–µ–Ω–∏—è, –ø—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—Å—è –∏–∑ –≥–ª—É–±–∏–Ω—ã –≥–æ—Ä–ª–∞" },
                  { letter: "ÿ®", name: "–ë–∞", trans: "[b]", type: "–¢—è–∂—ë–ª–∞—è", makhraj: "–ì—É–±—ã", desc: "–ü—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—Å—è –ø—Ä–∏ —Å–º—ã–∫–∞–Ω–∏–∏ –≥—É–±" },
                  { letter: "ÿ™", name: "–¢–∞", trans: "[t]", type: "–õ—ë–≥–∫–∞—è", makhraj: "–ö–æ–Ω—á–∏–∫ —è–∑—ã–∫–∞", desc: "–ü—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—Å—è –∫–æ–Ω—á–∏–∫–æ–º —è–∑—ã–∫–∞" },
                  { letter: "ÿ´", name: "–°–∞", trans: "[Œ∏]", type: "–õ—ë–≥–∫–∞—è", makhraj: "–ú–µ–∂–∑—É–±–Ω–∞—è", desc: "–ú–µ–∂–∑—É–±–Ω—ã–π –∑–≤—É–∫, –∫–∞–∫ –∞–Ω–≥–ª–∏–π—Å–∫–æ–µ 'th'" },
                  { letter: "ÿ¨", name: "–î–∂–∏–º", trans: "[ §]", type: "–¢—è–∂—ë–ª–∞—è", makhraj: "–°–µ—Ä–µ–¥–∏–Ω–∞ —è–∑—ã–∫–∞", desc: "–ü—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—Å—è —Å–µ—Ä–µ–¥–∏–Ω–æ–π —è–∑—ã–∫–∞" },
                  { letter: "ÿ≠", name: "–•–∞", trans: "[ƒß]", type: "–õ—ë–≥–∫–∞—è", makhraj: "–ì–æ—Ä–ª–æ", desc: "–ì–æ—Ä—Ç–∞–Ω–Ω—ã–π –∑–≤—É–∫, –º—è–≥–∫–∏–π '—Ö'" },
                  { letter: "ÿÆ", name: "–•–∞", trans: "[x]", type: "–¢—è–∂—ë–ª–∞—è", makhraj: "–ì–æ—Ä–ª–æ", desc: "–ì–ª—É–±–æ–∫–∏–π –≥–æ—Ä—Ç–∞–Ω–Ω—ã–π '—Ö'" },
                  { letter: "ÿØ", name: "–î–∞–ª—å", trans: "[d]", type: "–õ—ë–≥–∫–∞—è", makhraj: "–ö–æ–Ω—á–∏–∫ —è–∑—ã–∫–∞", desc: "–ü—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—Å—è –∫–æ–Ω—á–∏–∫–æ–º —è–∑—ã–∫–∞" },
                  { letter: "ÿ∞", name: "–ó–∞–ª—å", trans: "[√∞]", type: "–õ—ë–≥–∫–∞—è", makhraj: "–ú–µ–∂–∑—É–±–Ω–∞—è", desc: "–ó–≤–æ–Ω–∫–∏–π –º–µ–∂–∑—É–±–Ω—ã–π –∑–≤—É–∫" },
                  { letter: "ÿ±", name: "–†–∞", trans: "[r]", type: "–õ—ë–≥–∫–∞—è", makhraj: "–ö–æ–Ω—á–∏–∫ —è–∑—ã–∫–∞", desc: "–î—Ä–æ–∂–∞—â–∏–π –∑–≤—É–∫" },
                  { letter: "ÿ≤", name: "–ó–∞", trans: "[z]", type: "–õ—ë–≥–∫–∞—è", makhraj: "–ö–æ–Ω—á–∏–∫ —è–∑—ã–∫–∞", desc: "–ó–≤–æ–Ω–∫–∏–π —Å–≤–∏—Å—Ç—è—â–∏–π –∑–≤—É–∫" },
                  { letter: "ÿ≥", name: "–°–∏–Ω", trans: "[s]", type: "–õ—ë–≥–∫–∞—è", makhraj: "–ö–æ–Ω—á–∏–∫ —è–∑—ã–∫–∞", desc: "–ì–ª—É—Ö–æ–π —Å–≤–∏—Å—Ç—è—â–∏–π –∑–≤—É–∫" },
                  { letter: "ÿ¥", name: "–®–∏–Ω", trans: "[ É]", type: "–¢—è–∂—ë–ª–∞—è", makhraj: "–°–µ—Ä–µ–¥–∏–Ω–∞ —è–∑—ã–∫–∞", desc: "–®–∏–ø—è—â–∏–π –∑–≤—É–∫" },
                  { letter: "ÿµ", name: "–°–∞–¥", trans: "[sÀÅ]", type: "–¢—è–∂—ë–ª–∞—è", makhraj: "–ö–æ–Ω—á–∏–∫ —è–∑—ã–∫–∞", desc: "–¢—è–∂—ë–ª—ã–π —Å–≤–∏—Å—Ç—è—â–∏–π –∑–≤—É–∫" },
                  { letter: "ÿ∂", name: "–î–∞–¥", trans: "[dÀÅ]", type: "–¢—è–∂—ë–ª–∞—è", makhraj: "–ë–æ–∫ —è–∑—ã–∫–∞", desc: "–°–∞–º–∞—è —Ç—è–∂—ë–ª–∞—è –±—É–∫–≤–∞" },
                  { letter: "ÿ∑", name: "–¢–∞", trans: "[tÀÅ]", type: "–¢—è–∂—ë–ª–∞—è", makhraj: "–ó–∞–¥–Ω—è—è —á–∞—Å—Ç—å —è–∑—ã–∫–∞", desc: "–¢—è–∂—ë–ª—ã–π '—Ç'" },
                  { letter: "ÿ∏", name: "–ó–∞", trans: "[√∞ÀÅ]", type: "–¢—è–∂—ë–ª–∞—è", makhraj: "–ú–µ–∂–∑—É–±–Ω–∞—è", desc: "–¢—è–∂—ë–ª—ã–π –º–µ–∂–∑—É–±–Ω—ã–π –∑–≤—É–∫" },
                  { letter: "ÿπ", name: "–ê–π–Ω", trans: "[ ï]", type: "–õ—ë–≥–∫–∞—è", makhraj: "–ì–æ—Ä–ª–æ", desc: "–ì–ª—É–±–æ–∫–∏–π –≥–æ—Ä—Ç–∞–Ω–Ω—ã–π –∑–≤—É–∫" },
                  { letter: "ÿ∫", name: "–ì–∞–π–Ω", trans: "[…£]", type: "–¢—è–∂—ë–ª–∞—è", makhraj: "–ì–æ—Ä–ª–æ", desc: "–ì–æ—Ä—Ç–∞–Ω–Ω—ã–π '–≥'" },
                  { letter: "ŸÅ", name: "–§–∞", trans: "[f]", type: "–õ—ë–≥–∫–∞—è", makhraj: "–ì—É–±—ã –∏ –∑—É–±—ã", desc: "–ì—É–±–Ω–æ-–∑—É–±–Ω–æ–π –∑–≤—É–∫" },
                  { letter: "ŸÇ", name: "–ö–∞—Ñ", trans: "[q]", type: "–¢—è–∂—ë–ª–∞—è", makhraj: "–ù—ë–±–æ", desc: "–ì–ª—É–±–æ–∫–∏–π '–∫'" },
                  { letter: "ŸÉ", name: "–ö–∞—Ñ", trans: "[k]", type: "–õ—ë–≥–∫–∞—è", makhraj: "–ù—ë–±–æ", desc: "–û–±—ã—á–Ω—ã–π '–∫'" },
                  { letter: "ŸÑ", name: "–õ—è–º", trans: "[l]", type: "–õ—ë–≥–∫–∞—è", makhraj: "–ö–æ–Ω—á–∏–∫ —è–∑—ã–∫–∞", desc: "–ë–æ–∫–æ–≤–æ–π –∑–≤—É–∫" },
                  { letter: "ŸÖ", name: "–ú–∏–º", trans: "[m]", type: "–¢—è–∂—ë–ª–∞—è", makhraj: "–ì—É–±—ã", desc: "–ì—É–±–Ω–æ–π –Ω–æ—Å–æ–≤–æ–π –∑–≤—É–∫" },
                  { letter: "ŸÜ", name: "–ù—É–Ω", trans: "[n]", type: "–¢—è–∂—ë–ª–∞—è", makhraj: "–ö–æ–Ω—á–∏–∫ —è–∑—ã–∫–∞", desc: "–ù–æ—Å–æ–≤–æ–π –∑–≤—É–∫" },
                  { letter: "Ÿá", name: "–•–∞", trans: "[h]", type: "–õ—ë–≥–∫–∞—è", makhraj: "–ì–æ—Ä–ª–æ", desc: "–õ—ë–≥–∫–∏–π –≥–æ—Ä—Ç–∞–Ω–Ω—ã–π –∑–≤—É–∫" },
                  { letter: "Ÿà", name: "–í–∞–≤", trans: "[w]", type: "–õ—ë–≥–∫–∞—è", makhraj: "–ì—É–±—ã", desc: "–ì—É–±–Ω–æ–π –∑–≤—É–∫" },
                  { letter: "Ÿä", name: "–ô–∞", trans: "[j]", type: "–õ—ë–≥–∫–∞—è", makhraj: "–°–µ—Ä–µ–¥–∏–Ω–∞ —è–∑—ã–∫–∞", desc: "–ü–∞–ª–∞—Ç–∞–ª—å–Ω—ã–π –∑–≤—É–∫" }
              ];

              // ===== –°–û–°–¢–û–Ø–ù–ò–ï –ò–ì–†–´ =====
              const gameState = {
                  isPlaying: false,
                  score: 0,
                  correctCount: 0,
                  wrongCount: 0,
                  streak: 0,
                  level: 1,
                  currentLetter: null,
                  learnedLetters: new Set(),
                  timer: 30,
                  timerInterval: null,
                  startTime: null,
                  soundEnabled: true,
                  difficulty: 'easy',
                  hintsUsed: 0
              };// ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø =====
              document.addEventListener('DOMContentLoaded', function() {
                  console.log('üéÆ –ò–≥—Ä–∞ "–ê—Ä–∞–±—Å–∫–∏–π –∞–ª—Ñ–∞–≤–∏—Ç" –∑–∞–≥—Ä—É–∂–µ–Ω–∞');

                  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                  initDecorations();
                  initAlphabetGrid();
                  initDifficultyButtons();
                  initEventListeners();

                  // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
                  loadProgress();

                  // –ü–æ–∫–∞–∑ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
                  showMessage('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É "–ê—Ä–∞–±—Å–∫–∏–π –∞–ª—Ñ–∞–≤–∏—Ç"! –ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É", —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.', 'info');
              });

              // ===== –§–£–ù–ö–¶–ò–ò –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–ò =====

              function initDecorations() {
                  const container = document.getElementById('decorations');
                  for (let i = 0; i < 20; i++) {
                      const decor = document.createElement('div');
                      decor.className = 'floating-arabic';
                      decor.textContent = ARABIC_ALPHABET[Math.floor(Math.random() * ARABIC_ALPHABET.length)].letter;
                      decor.style.left = ${Math.random() * 100}%;
                      decor.style.top = ${Math.random() * 100}%;
                      decor.style.fontSize = ${1 + Math.random() * 3}rem;
                      decor.style.animationDuration = ${15 + Math.random() * 20}s;
                      decor.style.animationDelay = ${Math.random() * 10}s;
                      container.appendChild(decor);
                  }
              }

              function initAlphabetGrid() {
                  const grid = document.getElementById('alphabetGrid');
                  grid.innerHTML = '';

                  ARABIC_ALPHABET.forEach(letter => {
                      const letterEl = document.createElement('div');
                      letterEl.className = 'alphabet-letter';
                      letterEl.textContent = letter.letter;
                      letterEl.title = ${letter.name} ${letter.trans};

                      // –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–ø–ª—ã–≤–∞—é—â—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É
                      letterEl.addEventListener('mouseenter', () => {
                          showMessage(`${letter.name} - ${letter.trans}`, 'info');
                      });

                      grid.appendChild(letterEl);
                  });
              }

              function initDifficultyButtons() {
                  const buttons = document.querySelectorAll('.difficulty-btn');
                  buttons.forEach(btn => {
                      btn.addEventListener('click', function() {
                          // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö
                          buttons.forEach(b => b.classList.remove('active'));
                          // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–π
                          this.classList.add('active');
                          gameState.difficulty = this.dataset.difficulty;

                          // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–π–º–µ—Ä –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
                          switch(gameState.difficulty) {
                              case 'easy':
                                  gameState.timer = 45;
                                  break;
                              case 'medium':
                                  gameState.timer = 30;
                                  break;
                              case 'hard':
                                  gameState.timer = 15;
                                  break;
                          }

                          showMessage(`–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç—å: ${this.textContent.trim()}`, 'info');
                      });
                  });
              }

              function initEventListeners() {
                  // –ö–Ω–æ–ø–∫–∞ –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã
                  document.getElementById('startBtn').addEventListener('click', startGame);

                  // –ö–Ω–æ–ø–∫–∞ –∑–≤—É–∫–∞
                  document.getElementById('soundBtn').addEventListener('click', toggleSound);

                  // –ö–Ω–æ–ø–∫–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏
                  document.getElementById('hintBtn').addEventListener('click', showHint);

                  // –ö–Ω–æ–ø–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
                  document.getElementById('resultsBtn').addEventListener('click', showResults);

                  // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
                  document.getElementById('closeModal').addEventListener('click', closeResults);document.getElementById('playAgainBtn').addEventListener('click', startGame);
                  document.getElementById('shareBtn').addEventListener('click', shareResults);

                  // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
                  document.getElementById('themeBtn').addEventListener('click', toggleTheme);
              }

              // ===== –ò–ì–†–û–í–´–ï –§–£–ù–ö–¶–ò–ò =====

              function startGame() {
                  if (gameState.isPlaying) return;

                  // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
                  gameState.isPlaying = true;
                  gameState.score = 0;
                  gameState.correctCount = 0;
                  gameState.wrongCount = 0;
                  gameState.streak = 0;
                  gameState.level = 1;
                  gameState.hintsUsed = 0;
                  gameState.learnedLetters.clear();
                  gameState.startTime = Date.now();

                  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
                  updateStats();
                  updateProgress();
                  startTimer();

                  // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–æ–∫
                  document.getElementById('startBtn').disabled = true;
                  document.getElementById('startBtn').innerHTML = '<i class="fas fa-play"></i> –ò–≥—Ä–∞ –∏–¥—ë—Ç...';

                  // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–µ—Ä–≤–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
                  generateQuestion();

                  showMessage('–ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å! –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç.', 'success');
              }

              function generateQuestion() {
                  if (!gameState.isPlaying) return;

                  // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é –±—É–∫–≤—É
                  const letterIndex = Math.floor(Math.random() * ARABIC_ALPHABET.length);
                  gameState.currentLetter = ARABIC_ALPHABET[letterIndex];

                  // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—É–∫–≤—ã
                  document.getElementById('currentLetter').textContent = gameState.currentLetter.letter;
                  document.getElementById('letterName').textContent = '???';
                  document.getElementById('letterTrans').textContent = gameState.currentLetter.trans;
                  document.getElementById('letterType').textContent = gameState.currentLetter.type;
                  document.getElementById('letterMakhraj').textContent = gameState.currentLetter.makhraj;

                  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤–æ–ø—Ä–æ—Å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Ä–æ–≤–Ω—è
                  const questionTypes = ['name', 'transcription', 'type', 'makhraj'];
                  const questionType = questionTypes[Math.floor(Math.random() * questionTypes.length)];

                  let questionText = '';
                  switch(questionType) {
                      case 'name':
                          questionText = '–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç—Ç–∞ –±—É–∫–≤–∞?';
                          break;
                      case 'transcription':
                          questionText = '–ö–∞–∫–æ–π —É —ç—Ç–æ–π –±—É–∫–≤—ã —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–æ–Ω–Ω—ã–π –∑–≤—É–∫?';
                          break;
                      case 'type':
                          questionText = '–ö–∞–∫–æ–π —Ç–∏–ø —É —ç—Ç–æ–π –±—É–∫–≤—ã?';
                          break;
                      case 'makhraj':
                          questionText = '–û—Ç–∫—É–¥–∞ –≤—ã—Ö–æ–¥–∏—Ç –∑–≤—É–∫ —ç—Ç–æ–π –±—É–∫–≤—ã?';
                          break;
                  }

                  document.getElementById('questionText').textContent = questionText;

                  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
                  generateAnswers(questionType);

                  // –û–±–Ω–æ–≤–ª—è–µ–º —Å–µ—Ç–∫—É –∞–ª—Ñ–∞–≤–∏—Ç–∞
                  updateAlphabetGrid();
              }

              function generateAnswers(questionType) {
                  const answersGrid = document.getElementById('answersGrid');
                  answersGrid.innerHTML = '';

                  // –°–æ–∑–¥–∞—ë–º –º–∞—Å—Å–∏–≤ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º
                  let correctAnswer;
                  switch(questionType) {
                      case 'name':
                          correctAnswer = gameState.currentLetter.name;
                          break;
                      case 'transcription':
                          correctAnswer = gameState.currentLetter.trans;
                          break;
                      case 'type':
                          correctAnswer = gameState.currentLetter.type;
                          break;
                      case 'makhraj':
                          correctAnswer = gameState.currentLetter.makhraj;break;
                  }

                  let answers = [correctAnswer];

                  // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
                  while (answers.length < 4) {
                      let wrongAnswer;
                      const randomLetter = ARABIC_ALPHABET[Math.floor(Math.random() * ARABIC_ALPHABET.length)];

                      switch(questionType) {
                          case 'name':
                              wrongAnswer = randomLetter.name;
                              break;
                          case 'transcription':
                              wrongAnswer = randomLetter.trans;
                              break;
                          case 'type':
                              wrongAnswer = randomLetter.type;
                              break;
                          case 'makhraj':
                              wrongAnswer = randomLetter.makhraj;
                              break;
                      }

                      if (!answers.includes(wrongAnswer)) {
                          answers.push(wrongAnswer);
                      }
                  }

                  // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –æ—Ç–≤–µ—Ç—ã
                  answers = shuffleArray(answers);

                  // –°–æ–∑–¥–∞—ë–º –∫–Ω–æ–ø–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤
                  answers.forEach(answer => {
                      const button = document.createElement('button');
                      button.className = 'answer-btn';
                      button.textContent = answer;
                      button.onclick = () => checkAnswer(answer === correctAnswer);
                      answersGrid.appendChild(button);
                  });
              }

              function checkAnswer(isCorrect) {
                  if (!gameState.isPlaying) return;

                  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±—É–∫–≤—ã
                  document.getElementById('letterName').textContent = gameState.currentLetter.name;

                  // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤
                  const answerButtons = document.querySelectorAll('.answer-btn');

                  // –û—Ç–∫–ª—é—á–∞–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏
                  answerButtons.forEach(button => {
                      button.disabled = true;
                  });

                  // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
                  answerButtons.forEach(button => {
                      if (button.textContent === gameState.currentLetter.name) {
                          setTimeout(() => {
                              button.classList.add('correct');
                          }, 300);
                      }
                  });

                  // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
                  if (isCorrect) {
                      gameState.score += calculatePoints();
                      gameState.correctCount++;
                      gameState.streak++;
                      gameState.learnedLetters.add(gameState.currentLetter.letter);

                      // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è
                      if (gameState.correctCount % 5 === 0) {
                          gameState.level++;
                          showMessage(`–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ —É—Ä–æ–≤–Ω—è ${gameState.level}!`, 'success');
                      }

                      showMessage(`–ü—Ä–∞–≤–∏–ª—å–Ω–æ! +${calculatePoints()} –æ—á–∫–æ–≤ (–°–µ—Ä–∏—è: ${gameState.streak})`, 'success');

                      // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞ –ø–æ–±–µ–¥—ã
                      if (gameState.soundEnabled) {
                          playSuccessSound();
                      }
                  } else {
                      gameState.wrongCount++;
                      gameState.streak = 0;

                      // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
                      answerButtons.forEach(button => {
                          if (button.textContent !== gameState.currentLetter.name) {
                              setTimeout(() => {
                                  button.classList.add('wrong');
                              }, 300);
                          }
                      });

                      showMessage(`–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –≠—Ç–æ –±—É–∫–≤–∞ "${gameState.currentLetter.name}"`, 'error');

                      // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞ –æ—à–∏–±–∫–∏
                      if (gameState.soundEnabled) {
                          playErrorSound();
                      }
                  }

                  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏updateStats();
                  updateProgress();
                  saveProgress();

                  // –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫—É–Ω–¥—ã
                  setTimeout(() => {
                      if (gameState.isPlaying) {
                          generateQuestion();
                      }
                  }, 1500);
              }

              function calculatePoints() {
                  let points = 10;

                  // –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
                  switch(gameState.difficulty) {
                      case 'easy':
                          points *= 1;
                          break;
                      case 'medium':
                          points *= 1.5;
                          break;
                      case 'hard':
                          points *= 2;
                          break;
                  }

                  // –ë–æ–Ω—É—Å –∑–∞ —Å–µ—Ä–∏—é
                  if (gameState.streak > 3) {
                      points += Math.floor(gameState.streak / 3) * 5;
                  }

                  return Math.round(points);
              }

              // ===== –¢–ê–ô–ú–ï–† =====
              function startTimer() {
                  clearInterval(gameState.timerInterval);

                  const timerElement = document.getElementById('timer');
                  const timerCircle = document.getElementById('timerCircle');
                  const circumference = 2 * Math.PI * 40;

                  gameState.timerInterval = setInterval(() => {
                      if (!gameState.isPlaying) return;

                      gameState.timer--;
                      timerElement.textContent = gameState.timer;

                      // –û–±–Ω–æ–≤–ª—è–µ–º –∫—Ä—É–≥–æ–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å
                      const offset = circumference - (gameState.timer / 30) * circumference;
                      timerCircle.style.strokeDashoffset = offset;

                      // –ò–∑–º–µ–Ω—è–µ–º —Ü–≤–µ—Ç –ø—Ä–∏ –Ω–∏–∑–∫–æ–º –≤—Ä–µ–º–µ–Ω–∏
                      if (gameState.timer <= 10) {
                          timerCircle.style.stroke = '#F44336';
                          timerElement.style.color = '#F44336';
                          timerElement.classList.add('timer-warning');
                      } else if (gameState.timer <= 20) {
                          timerCircle.style.stroke = '#FF9800';
                          timerElement.style.color = '#FF9800';
                          timerElement.classList.remove('timer-warning');
                      } else {
                          timerCircle.style.stroke = '#d4a574';
                          timerElement.style.color = '#8a4a5f';
                          timerElement.classList.remove('timer-warning');
                      }

                      // –ö–æ–Ω–µ—Ü –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
                      if (gameState.timer <= 0) {
                          endGame();
                      }
                  }, 1000);
              }

              function endGame() {
                  gameState.isPlaying = false;
                  clearInterval(gameState.timerInterval);

                  // –û—Ç–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤
                  const answerButtons = document.querySelectorAll('.answer-btn');
                  answerButtons.forEach(button => {
                      button.disabled = true;
                  });

                  // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞—á–∞–ª–∞
                  document.getElementById('startBtn').disabled = false;
                  document.getElementById('startBtn').innerHTML = '<i class="fas fa-redo"></i> –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞';

                  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                  showResults();

                  showMessage(`–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –í—ã –∏–∑—É—á–∏–ª–∏ ${gameState.learnedLetters.size} –∏–∑ 28 –±—É–∫–≤`, 'warning');
              }

              // ===== –†–ï–ó–£–õ–¨–¢–ê–¢–´ =====
              function showResults() {
                  const totalTime = gameState.startTime ? Math.floor((Date.now() - gameState.startTime) / 1000) : 0;
                  const totalQuestions = gameState.correctCount + gameState.wrongCount;
                  const accuracy = totalQuestions > 0 ? Math.round((gameState.correctCount / totalQuestions) * 100) : 0;

                  // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                  document.getElementById('finalScore').textContent = gameState.score;
                  document.getElementById('finalCorrect').textContent = gameState.correctCount;document.getElementById('finalAccuracy').textContent = ${accuracy}%;
                  document.getElementById('finalTime').textContent = ${totalTime}—Å;

                  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
                  let message = '';
                  if (accuracy === 100 && gameState.correctCount > 10) {
                      message = '–í–µ–ª–∏–∫–æ–ª–µ–ø–Ω–æ! –ò–¥–µ–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! üåü';
                  } else if (accuracy >= 80) {
                      message = '–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –í—ã —Ö–æ—Ä–æ—à–æ –∑–Ω–∞–µ—Ç–µ –∞–ª—Ñ–∞–≤–∏—Ç! ‚ú®';
                  } else if (accuracy >= 60) {
                      message = '–•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è! üëç';
                  } else {
                      message = '–ü—Ä–∞–∫—Ç–∏–∫–∞ –≤–µ–¥—ë—Ç –∫ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑! üí™';
                  }

                  document.getElementById('finalMessage').textContent = message;
                  document.getElementById('finalMessage').className = 'game-message ' +
                      (accuracy >= 80 ? 'message-success' :
                       accuracy >= 60 ? 'message-info' : 'message-warning');

                  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                  document.getElementById('resultsModal').classList.add('active');
              }

              function closeResults() {
                  document.getElementById('resultsModal').classList.remove('active');
              }

              function shareResults() {
                  const text = `üéÆ –Ø —Å—ã–≥—Ä–∞–ª –≤ –∏–≥—Ä—É "–ê—Ä–∞–±—Å–∫–∏–π –∞–ª—Ñ–∞–≤–∏—Ç" –Ω–∞ MA'RIFA!
      üèÜ –û—á–∫–∏: ${gameState.score} | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: ${gameState.correctCount}
      üéØ –¢–æ—á–Ω–æ—Å—Ç—å: ${Math.round((gameState.correctCount / (gameState.correctCount + gameState.wrongCount)) * 100)}%
      #–ú–∞—ä—Ä–∏—Ñ–∞ #–ê—Ä–∞–±—Å–∫–∏–π–ê–ª—Ñ–∞–≤–∏—Ç #–ò–∑—É—á–µ–Ω–∏–µ–Ø–∑—ã–∫–∞`;

                  if (navigator.share) {
                      navigator.share({
                          title: '–ú–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –∏–≥—Ä–µ "–ê—Ä–∞–±—Å–∫–∏–π –∞–ª—Ñ–∞–≤–∏—Ç"',
                          text: text,
                          url: window.location.href
                      });
                  } else {
                      navigator.clipboard.writeText(text).then(() => {
                          showMessage('–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!', 'success');
                      });
                  }
              }

              // ===== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò =====

              function toggleSound() {
                  gameState.soundEnabled = !gameState.soundEnabled;
                  const soundBtn = document.getElementById('soundBtn');
                  const icon = soundBtn.querySelector('i');

                  if (gameState.soundEnabled) {
                      soundBtn.innerHTML = '<i class="fas fa-volume-up"></i> –ó–≤—É–∫: –í–∫–ª';
                      showMessage('–ó–≤—É–∫ –≤–∫–ª—é—á–µ–Ω', 'info');
                  } else {
                      soundBtn.innerHTML = '<i class="fas fa-volume-mute"></i> –ó–≤—É–∫: –í—ã–∫–ª';
                      showMessage('–ó–≤—É–∫ –≤—ã–∫–ª—é—á–µ–Ω', 'info');
                  }
              }

              function showHint() {
                  if (!gameState.isPlaying || gameState.hintsUsed >= 3) return;

                  gameState.hintsUsed++;
                  const hintContainer = document.getElementById('hintContainer');
                  const hintContent = document.getElementById('hintContent');

                  hintContent.textContent = gameState.currentLetter.desc;
                  hintContainer.classList.add('active');

                  // –°–∫—Ä—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
                  setTimeout(() => {
                      hintContainer.classList.remove('active');
                  }, 5000);

                  showMessage(`–ü–æ–¥—Å–∫–∞–∑–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ (${gameState.hintsUsed}/3)`, 'info');
              }

              function toggleTheme() {
                  const themeBtn = document.getElementById('themeBtn');
                  const icon = themeBtn.querySelector('i');

                  if (icon.classList.contains('fa-moon')) {
                      icon.className = 'fas fa-sun';
                      document.body.style.background = 'linear-gradient(135deg, #2d1b4e 0%, #1a0b2e 100%)';
                      showMessage('–¢—ë–º–Ω–∞—è —Ç–µ–º–∞ –≤–∫–ª—é—á–µ–Ω–∞', 'info');
                  } else {
                      icon.className = 'fas fa-moon';
                      document.body.style.background = 'linear-gradient(135deg, #1a0b2e 0%, #2d1b4e 100%)';showMessage('–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ –≤–∫–ª—é—á–µ–Ω–∞', 'info');
                  }
              }

              function updateStats() {
                  document.getElementById('score').textContent = gameState.score;
                  document.getElementById('correctCount').textContent = gameState.correctCount;
                  document.getElementById('wrongCount').textContent = gameState.wrongCount;
                  document.getElementById('streak').textContent = gameState.streak;
                  document.getElementById('level').textContent = gameState.level;
              }

              function updateProgress() {
                  const totalQuestions = gameState.correctCount + gameState.wrongCount;
                  const gameProgress = totalQuestions > 0 ? Math.min((totalQuestions / 20) * 100, 100) : 0;
                  const alphabetProgress = (gameState.learnedLetters.size / ARABIC_ALPHABET.length) * 100;

                  document.getElementById('gameProgress').style.width = ${gameProgress}%;
                  document.getElementById('alphabetProgress').style.width = ${alphabetProgress}%;
                  document.getElementById('progressPercent').textContent = ${Math.round(gameProgress)}%;
                  document.getElementById('learnedPercent').textContent = ${Math.round(alphabetProgress)}%;
              }

              function updateAlphabetGrid() {
                  const letterElements = document.querySelectorAll('.alphabet-letter');

                  letterElements.forEach((element, index) => {
                      element.classList.remove('learned', 'current', 'favorite');

                      const letter = ARABIC_ALPHABET[index].letter;
                      if (gameState.learnedLetters.has(letter)) {
                          element.classList.add('learned');
                      }

                      if (gameState.currentLetter && letter === gameState.currentLetter.letter) {
                          element.classList.add('current');
                      }
                  });
              }

              function showMessage(text, type) {
                  const messageElement = document.getElementById('gameMessage');
                  messageElement.textContent = text;
                  messageElement.className = game-message message-${type};

                  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
                  if (type === 'info') {
                      setTimeout(() => {
                          if (messageElement.textContent === text) {
                              messageElement.textContent = '';
                              messageElement.className = 'game-message';
                          }
                      }, 3000);
                  }
              }

              function shuffleArray(array) {
                  for (let i = array.length - 1; i > 0; i--) {
                      const j = Math.floor(Math.random() * (i + 1));
                      [array[i], array[j]] = [array[j], array[i]];
                  }
                  return array;
              }

              // ===== –†–ê–ë–û–¢–ê –° –ü–†–û–ì–†–ï–°–°–û–ú =====
              function loadProgress() {
                  try {
                      const savedProgress = JSON.parse(localStorage.getItem('marifa_alphabet_game_progress')) || {};

                      if (savedProgress.learnedLetters) {
                          gameState.learnedLetters = new Set(savedProgress.learnedLetters);
                      }

                      if (savedProgress.difficulty) {
                          gameState.difficulty = savedProgress.difficulty;

                          // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–Ω–æ–ø–∫—É
                          const buttons = document.querySelectorAll('.difficulty-btn');
                          buttons.forEach(btn => {
                              if (btn.dataset.difficulty === gameState.difficulty) {
                                  btn.classList.add('active');
                              } else {
                                  btn.classList.remove('active');
                              }
                          });
                      }

                      if (savedProgress.soundEnabled !== undefined) {
                          gameState.soundEnabled = savedProgress.soundEnabled;
                          document.getElementById('soundBtn').innerHTML = gameState.soundEnabled ?
                              '<i class="fas fa-volume-up"></i> –ó–≤—É–∫: –í–∫–ª' :
                              '<i class="fas fa-volume-mute"></i> –ó–≤—É–∫: –í—ã–∫–ª';
                      }

                      updateProgress();
                      updateAlphabetGrid();

                  } catch (e) {
                      console.log('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:', e);
                  }
              }

              function saveProgress() {
                  try {
                      const progress = {
                          learnedLetters: Array.from(gameState.learnedLetters),
                          difficulty: gameState.difficulty,
                          soundEnabled: gameState.soundEnabled,
                          lastPlayed: new Date().toISOString()
                      };

                      localStorage.setItem('marifa_alphabet_game_progress', JSON.stringify(progress));

                      // –¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ–º –æ–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                      updateUserProgress();

                  } catch (e) {
                      console.log('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:', e);
                  }
              }

              function updateUserProgress() {
                  try {
                      const userData = JSON.parse(localStorage.getItem('marifa_currentUser')) || {};
                      const progress = JSON.parse(localStorage.getItem('marifa_study_progress')) || {};

                      // –î–æ–±–∞–≤–ª—è–µ–º –∏–∑—É—á–µ–Ω–Ω—ã–µ –±—É–∫–≤—ã –≤ –æ–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
                      gameState.learnedLetters.forEach(letter => {
                          if (!progress[letter]) {
                              progress[letter] = { studied: true, studiedAt: new Date().toISOString() };
                          }
                      });

                      // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä—ã
                      if (!progress.games) {
                          progress.games = {};
                      }

                      progress.games.alphabet = {
                          lastPlayed: new Date().toISOString(),
                          bestScore: Math.max(gameState.score, progress.games.alphabet?.bestScore || 0),
                          totalCorrect: (progress.games.alphabet?.totalCorrect || 0) + gameState.correctCount,
                          totalPlayed: (progress.games.alphabet?.totalPlayed || 0) + 1
                      };

                      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±—Ä–∞—Ç–Ω–æ
                      localStorage.setItem('marifa_study_progress', JSON.stringify(progress));

                  } catch (e) {
                      console.log('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', e);
                  }
              }

              // ===== –ó–í–£–ö–ò =====
              function playSuccessSound() {
                  try {
                      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                      const oscillator = audioContext.createOscillator();
                      const gainNode = audioContext.createGain();

                      oscillator.connect(gainNode);
                      gainNode.connect(audioContext.destination);

                      // –í–æ—Å—Ö–æ–¥—è—â–∞—è –º–µ–ª–æ–¥–∏—è
                      oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
                      oscillator.frequency.exponentialRampToValueAtTime(1046.50, audioContext.currentTime + 0.3); // C6

                      oscillator.type = 'sine';

                      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);

                      oscillator.start(audioContext.currentTime);
                      oscillator.stop(audioContext.currentTime + 0.5);
                  } catch (e) {
                      console.log('–ê—É–¥–∏–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
                  }
              }

              function playErrorSound() {
                  try {
                      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                      const oscillator = audioContext.createOscillator();
                      const gainNode = audioContext.createGain();oscillator.connect(gainNode);
                      gainNode.connect(audioContext.destination);

                      // –ù–∏—Å—Ö–æ–¥—è—â–∞—è –º–µ–ª–æ–¥–∏—è
                      oscillator.frequency.setValueAtTime(392.00, audioContext.currentTime); // G4
                      oscillator.frequency.exponentialRampToValueAtTime(196.00, audioContext.currentTime + 0.3); // G3

                      oscillator.type = 'sawtooth';

                      gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
                      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);

                      oscillator.start(audioContext.currentTime);
                      oscillator.stop(audioContext.currentTime + 0.3);
                  } catch (e) {
                      console.log('–ê—É–¥–∏–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
                  }
              }

              // ===== –ì–õ–û–ë–ê–õ–¨–ù–´–ô –≠–ö–°–ü–û–†–¢ –î–õ–Ø –û–¢–õ–ê–î–ö–ò =====
              window.debugAlphabetGame = {
                  getState: () => ({ ...gameState }),
                  getProgress: () => JSON.parse(localStorage.getItem('marifa_alphabet_game_progress') || '{}'),
                  resetProgress: () => {
                      localStorage.removeItem('marifa_alphabet_game_progress');
                      location.reload();
                  }
              };

              console.log('‚úÖ –ò–≥—Ä–∞ "–ê—Ä–∞–±—Å–∫–∏–π –∞–ª—Ñ–∞–≤–∏—Ç" –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
    </script>
  </body>
</html>
